(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f2cf71ba"],{2469:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info-page"},[n("van-nav-bar",{attrs:{title:t.title,"left-text":"地图","left-arrow":""},on:{"click-left":t.onClickLeft}}),n("van-swipe",{attrs:{autoplay:3e3,height:250}},t._l(t.images,(function(t,e){return n("van-swipe-item",{key:e},[n("van-image",{attrs:{width:"100%",height:"100%",fit:"cover",src:t}})],1)})),1),n("van-panel",{staticClass:"info-cont",attrs:{title:"介绍"}},[n("div",{staticClass:"info-text"},[t._v(t._s(t.info))])]),n("div",{staticClass:"info-actions"},[t.audioplaying?t._e():n("van-button",{attrs:{icon:"play-circle-o",type:"primary"},on:{click:t.playAudio}},[t._v("语音介绍")]),t.audioplaying?n("van-button",{attrs:{icon:"stop-circle-o",type:"primary"},on:{click:t.stopAduio}},[t._v("停止播放")]):t._e(),n("van-button",{attrs:{icon:"exchange",type:"info"},on:{click:t.startNav}},[t._v("导航到此")])],1)],1)},a=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),o=(n("7f7f"),n("a481"),n("28a5"),n("2f62")),s=n("9d00");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h=location.host?"".concat(location.protocol,"//").concat(location.host):location.href.split("/index.html#/")[0],l={data:function(){return{audioplaying:!1}},methods:{onClickLeft:function(){this.$router.replace("/")},playAudio:function(){if(this.audio)this.audio.play();else{var t=document.createElement("audio");t.setAttribute("autoplay","autoplay"),t.setAttribute("src","".concat(h,"/static/audio/").concat(this.selectScenicSpot.ext.audio)),document.body.appendChild(t),this.audio=t}this.audioplaying=!0},stopAduio:function(){this.audio&&(this.audio.pause(),this.audioplaying=!1)},startNav:function(){var t=this.selectScenicSpot.feature.geometry,e=Object(s["a"])(t);this.$router.replace("/"),this.$store.commit("setNavTargetLatlng",e),this.$store.commit("setNavTargetName",this.selectScenicSpot.feature.properties.name),this.$store.commit("setIsRouting",!0)}},components:{},computed:u({},Object(o["b"])({selectScenicSpot:function(t){return t.selectScenicSpot}}),{title:function(){return this.selectScenicSpot.feature.properties.name},images:function(){return this.selectScenicSpot.ext.photos.split(";").map((function(t){return"".concat(h,"/static/photo/").concat(t)}))},info:function(){return this.selectScenicSpot.ext.info}}),mounted:function(){},beforeRouteLeave:function(t,e,n){this.audio&&(this.audio.pause(),document.body.removeChild(this.audio),this.audio=null,this.audioplaying=!1),n()}},f=l,p=(n("7a99"),n("2877")),d=Object(p["a"])(f,i,a,!1,null,"918d2baa",null);e["default"]=d.exports},"5fbf":function(t,e,n){},"7a99":function(t,e,n){"use strict";var i=n("5fbf"),a=n.n(i);a.a},9984:function(t,e,n){"use strict";var i=n("fa35");function a(t,e,n){var a,s,u,h;e=e||1;for(var l=0;l<t[0].length;l++){var f=t[0][l];(!l||f[0]<a)&&(a=f[0]),(!l||f[1]<s)&&(s=f[1]),(!l||f[0]>u)&&(u=f[0]),(!l||f[1]>h)&&(h=f[1])}var p=u-a,d=h-s,v=Math.min(p,d),g=v/2,b=new i(null,r);if(0===v)return[a,s];for(var m=a;m<u;m+=v)for(var y=s;y<h;y+=v)b.push(new o(m+g,y+g,g,t));var w=c(t),x=new o(a+p/2,s+d/2,0,t);x.d>w.d&&(w=x);var S=b.length;while(b.length){var O=b.pop();O.d>w.d&&(w=O,n&&console.log("found best %d after %d probes",Math.round(1e4*O.d)/1e4,S)),O.max-w.d<=e||(g=O.h/2,b.push(new o(O.x-g,O.y-g,g,t)),b.push(new o(O.x+g,O.y-g,g,t)),b.push(new o(O.x-g,O.y+g,g,t)),b.push(new o(O.x+g,O.y+g,g,t)),S+=4)}return n&&(console.log("num probes: "+S),console.log("best distance: "+w.d)),[w.x,w.y]}function r(t,e){return e.max-t.max}function o(t,e,n,i){this.x=t,this.y=e,this.h=n,this.d=s(t,e,i),this.max=this.d+this.h*Math.SQRT2}function s(t,e,n){for(var i=!1,a=1/0,r=0;r<n.length;r++)for(var o=n[r],s=0,c=o.length,h=c-1;s<c;h=s++){var l=o[s],f=o[h];l[1]>e!==f[1]>e&&t<(f[0]-l[0])*(e-l[1])/(f[1]-l[1])+l[0]&&(i=!i),a=Math.min(a,u(t,e,l,f))}return(i?1:-1)*Math.sqrt(a)}function c(t){for(var e=0,n=0,i=0,a=t[0],r=0,s=a.length,c=s-1;r<s;c=r++){var u=a[r],h=a[c],l=u[0]*h[1]-h[0]*u[1];n+=(u[0]+h[0])*l,i+=(u[1]+h[1])*l,e+=3*l}return 0===e?new o(a[0][0],a[0][1],0,t):new o(n/e,i/e,0,t)}function u(t,e,n,i){var a=n[0],r=n[1],o=i[0]-a,s=i[1]-r;if(0!==o||0!==s){var c=((t-a)*o+(e-r)*s)/(o*o+s*s);c>1?(a=i[0],r=i[1]):c>0&&(a+=o*c,r+=s*c)}return o=t-a,s=e-r,o*o+s*s}t.exports=a,t.exports.default=a},"9d00":function(t,e,n){"use strict";var i=n("9984"),a=n.n(i);e["a"]=function(t){var e;return e="Point"==t.type?t.coordinates:a()(t.coordinates,1e-5),e}},a481:function(t,e,n){"use strict";var i=n("cb7c"),a=n("4bf8"),r=n("9def"),o=n("4588"),s=n("0390"),c=n("5f1b"),u=Math.max,h=Math.min,l=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,d=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,(function(t,e,n,v){return[function(i,a){var r=t(this),o=void 0==i?void 0:i[e];return void 0!==o?o.call(i,r,a):n.call(String(r),i,a)},function(t,e){var a=v(n,t,this,e);if(a.done)return a.value;var l=i(t),f=String(this),p="function"===typeof e;p||(e=String(e));var b=l.global;if(b){var m=l.unicode;l.lastIndex=0}var y=[];while(1){var w=c(l,f);if(null===w)break;if(y.push(w),!b)break;var x=String(w[0]);""===x&&(l.lastIndex=s(f,r(l.lastIndex),m))}for(var S="",O=0,k=0;k<y.length;k++){w=y[k];for(var _=String(w[0]),j=u(h(o(w.index),f.length),0),$=[],A=1;A<w.length;A++)$.push(d(w[A]));var P=w.groups;if(p){var C=[_].concat($,j,f);void 0!==P&&C.push(P);var M=String(e.apply(void 0,C))}else M=g(_,f,j,$,P,e);j>=O&&(S+=f.slice(O,j)+M,O=j+_.length)}return S+f.slice(O)}];function g(t,e,i,r,o,s){var c=i+t.length,u=r.length,h=p;return void 0!==o&&(o=a(o),h=f),n.call(s,h,(function(n,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(c);case"<":s=o[a.slice(1,-1)];break;default:var h=+a;if(0===h)return n;if(h>u){var f=l(h/10);return 0===f?n:f<=u?void 0===r[f-1]?a.charAt(1):r[f-1]+a.charAt(1):n}s=r[h-1]}return void 0===s?"":s}))}}))},fa35:function(t,e,n){"use strict";function i(t,e){if(!(this instanceof i))return new i(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||a,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function a(t,e){return t<e?-1:t>e?1:0}t.exports=i,t.exports.default=i,i.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){var e=this.data,n=this.compare,i=e[t];while(t>0){var a=t-1>>1,r=e[a];if(n(i,r)>=0)break;e[t]=r,t=a}e[t]=i},_down:function(t){var e=this.data,n=this.compare,i=this.length>>1,a=e[t];while(t<i){var r=1+(t<<1),o=r+1,s=e[r];if(o<this.length&&n(e[o],s)<0&&(r=o,s=e[o]),n(s,a)>=0)break;e[t]=s,t=r}e[t]=a}}}}]);