(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e7089ee2"],{"02f4":function(e,r,t){var n=t("4588"),o=t("be13");e.exports=function(e){return function(r,t){var a,i,s=String(o(r)),c=n(t),u=s.length;return c<0||c>=u?e?"":void 0:(a=s.charCodeAt(c),a<55296||a>56319||c+1===u||(i=s.charCodeAt(c+1))<56320||i>57343?e?s.charAt(c):a:e?s.slice(c,c+2):i-56320+(a-55296<<10)+65536)}}},"0390":function(e,r,t){"use strict";var n=t("02f4")(!0);e.exports=function(e,r,t){return r+(t?n(e,r).length:1)}},"0bfb":function(e,r,t){"use strict";var n=t("cb7c");e.exports=function(){var e=n(this),r="";return e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.unicode&&(r+="u"),e.sticky&&(r+="y"),r}},"0cc4":function(e,r,t){"use strict";var n=t("c42f"),o=t.n(n);o.a},"11e9":function(e,r,t){var n=t("52a7"),o=t("4630"),a=t("6821"),i=t("6a99"),s=t("69a8"),c=t("c69a"),u=Object.getOwnPropertyDescriptor;r.f=t("9e1e")?u:function(e,r){if(e=a(e),r=i(r,!0),c)try{return u(e,r)}catch(t){}if(s(e,r))return o(!n.f.call(e,r),e[r])}},"214f":function(e,r,t){"use strict";t("b0c5");var n=t("2aba"),o=t("32e9"),a=t("79e5"),i=t("be13"),s=t("2b4c"),c=t("520a"),u=s("species"),f=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){var e=/(?:)/,r=e.exec;e.exec=function(){return r.apply(this,arguments)};var t="ab".split(e);return 2===t.length&&"a"===t[0]&&"b"===t[1]}();e.exports=function(e,r,t){var p=s(e),d=!a((function(){var r={};return r[p]=function(){return 7},7!=""[e](r)})),h=d?!a((function(){var r=!1,t=/a/;return t.exec=function(){return r=!0,null},"split"===e&&(t.constructor={},t.constructor[u]=function(){return t}),t[p](""),!r})):void 0;if(!d||!h||"replace"===e&&!f||"split"===e&&!l){var g=/./[p],v=t(i,p,""[e],(function(e,r,t,n,o){return r.exec===c?d&&!o?{done:!0,value:g.call(r,t,n)}:{done:!0,value:e.call(t,r,n)}:{done:!1}})),m=v[0],b=v[1];n(String.prototype,e,m),o(RegExp.prototype,p,2==r?function(e,r){return b.call(e,this,r)}:function(e){return b.call(e,this)})}}},"454f":function(e,r,t){t("46a7");var n=t("584a").Object;e.exports=function(e,r,t){return n.defineProperty(e,r,t)}},"456d":function(e,r,t){var n=t("4bf8"),o=t("0d58");t("5eda")("keys",(function(){return function(e){return o(n(e))}}))},"46a7":function(e,r,t){var n=t("63b6");n(n.S+n.F*!t("8e60"),"Object",{defineProperty:t("d9f6").f})},"520a":function(e,r,t){"use strict";var n=t("0bfb"),o=RegExp.prototype.exec,a=String.prototype.replace,i=o,s="lastIndex",c=function(){var e=/a/,r=/b*/g;return o.call(e,"a"),o.call(r,"a"),0!==e[s]||0!==r[s]}(),u=void 0!==/()??/.exec("")[1],f=c||u;f&&(i=function(e){var r,t,i,f,l=this;return u&&(t=new RegExp("^"+l.source+"$(?!\\s)",n.call(l))),c&&(r=l[s]),i=o.call(l,e),c&&i&&(l[s]=l.global?i.index+i[0].length:r),u&&i&&i.length>1&&a.call(i[0],t,(function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(i[f]=void 0)})),i}),e.exports=i},"5eda":function(e,r,t){var n=t("5ca1"),o=t("8378"),a=t("79e5");e.exports=function(e,r){var t=(o.Object||{})[e]||Object[e],i={};i[e]=r(t),n(n.S+n.F*a((function(){t(1)})),"Object",i)}},"5f1b":function(e,r,t){"use strict";var n=t("23c6"),o=RegExp.prototype.exec;e.exports=function(e,r){var t=e.exec;if("function"===typeof t){var a=t.call(e,r);if("object"!==typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,r)}},"85f2":function(e,r,t){e.exports=t("454f")},"8e6e":function(e,r,t){var n=t("5ca1"),o=t("990b"),a=t("6821"),i=t("11e9"),s=t("f1ae");n(n.S,"Object",{getOwnPropertyDescriptors:function(e){var r,t,n=a(e),c=i.f,u=o(n),f={},l=0;while(u.length>l)t=c(n,r=u[l++]),void 0!==t&&s(f,r,t);return f}})},9093:function(e,r,t){var n=t("ce10"),o=t("e11e").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},"990b":function(e,r,t){var n=t("9093"),o=t("2621"),a=t("cb7c"),i=t("7726").Reflect;e.exports=i&&i.ownKeys||function(e){var r=n.f(a(e)),t=o.f;return t?r.concat(t(e)):r}},a481:function(e,r,t){"use strict";var n=t("cb7c"),o=t("4bf8"),a=t("9def"),i=t("4588"),s=t("0390"),c=t("5f1b"),u=Math.max,f=Math.min,l=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};t("214f")("replace",2,(function(e,r,t,g){return[function(n,o){var a=e(this),i=void 0==n?void 0:n[r];return void 0!==i?i.call(n,a,o):t.call(String(a),n,o)},function(e,r){var o=g(t,e,this,r);if(o.done)return o.value;var l=n(e),p=String(this),d="function"===typeof r;d||(r=String(r));var m=l.global;if(m){var b=l.unicode;l.lastIndex=0}var x=[];while(1){var w=c(l,p);if(null===w)break;if(x.push(w),!m)break;var y=String(w[0]);""===y&&(l.lastIndex=s(p,a(l.lastIndex),b))}for(var O="",k=0,S=0;S<x.length;S++){w=x[S];for(var F=String(w[0]),L=u(f(i(w.index),p.length),0),M=[],j=1;j<w.length;j++)M.push(h(w[j]));var P=w.groups;if(d){var E=[F].concat(M,L,p);void 0!==P&&E.push(P);var T=String(r.apply(void 0,E))}else T=v(F,p,L,M,P,r);L>=k&&(O+=p.slice(k,L)+T,k=L+F.length)}return O+p.slice(k)}];function v(e,r,n,a,i,s){var c=n+e.length,u=a.length,f=d;return void 0!==i&&(i=o(i),f=p),t.call(s,f,(function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(c);case"<":s=i[o.slice(1,-1)];break;default:var f=+o;if(0===f)return t;if(f>u){var p=l(f/10);return 0===p?t:p<=u?void 0===a[p-1]?o.charAt(1):a[p-1]+o.charAt(1):t}s=a[f-1]}return void 0===s?"":s}))}}))},ac2a:function(e,r,t){"use strict";t.r(r);var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"form-page"},[t("van-cell-group",{staticClass:"form"},[t("form",{ref:"userForm",attrs:{method:"POST"},on:{submit:function(r){return r.preventDefault(),e.login(r)}}},[t("van-field",{attrs:{required:"",clearable:"",error:!!e.errorMsg.username,placeholder:e.errorMsg.username?e.errorMsg.username:"请输入用户名",autofocus:"autofocus",label:"用户名","error-message":e.userForm.username?e.errorMsg.username:""},on:{focus:function(r){e.errorMsg.username=""},blur:function(r){return e.checkupForm("username")}},model:{value:e.userForm.username,callback:function(r){e.$set(e.userForm,"username",r)},expression:"userForm.username"}}),t("van-field",{attrs:{type:"password",label:"密码",error:!!e.errorMsg.password,placeholder:e.errorMsg.password?e.errorMsg.password:"请输入密码","error-message":e.userForm.password?e.errorMsg.password:"",required:""},on:{focus:function(r){e.errorMsg.password=""},blur:function(r){return e.checkupForm("password")}},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.login(r)}},model:{value:e.userForm.password,callback:function(r){e.$set(e.userForm,"password",r)},expression:"userForm.password"}}),t("div",{staticClass:"login"},[t("van-button",{attrs:{type:"info",size:"normal"},on:{click:e.login}},[e._v("登录")])],1)],1)])],1)},o=[],a=(t("8e6e"),t("ac6a"),t("456d"),t("a481"),t("bd86")),i=t("2b0e"),s=t("f564"),c=t("d399"),u=/^\w[\d\w]{5,11}$/,f=/^[\d\w~!@#$%^&()_+=-]{6,12}$/,l=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/,p=(t("96cf"),t("3b8d")),d={methods:{checkName:function(e){var r=this,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(n,o){var a=u;e.length<6?n("用户名长度必须为6到12位"):a.test(e)?t&&r.getUserExist(e).then((function(e){n(e?"用户名已存在":"")})):n("请输入合法用户名(字母开头的字母/数字任意组合)")}))},checkPass:function(e){return new Promise((function(r,t){var n=f,o="";e.length<6?o="请输入6到12位长度的密码":n.test(e)||(o="含有非法字符,请重新输入"),r(o)}))},checkEmail:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(t,n){var o=l;o.test(e)?r&&i["a"].axios.get("/user/emailexist?email=".concat(e)).then((function(e){e.data?t("邮箱已被使用,请绑定其他邮箱"):t("")})):t("请输入正确的邮箱地址")}))},getUserExist:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(r){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].axios.get("/user/userexist?username=".concat(r)).then((function(e){t=e.data}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}()}},h=t("2f62");function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(t,!0).forEach((function(r){Object(a["a"])(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}i["a"].use(s["a"]).use(c["a"]);var m={mixins:[d],data:function(){return{userForm:{username:"",password:""},errorMsg:{username:"",password:""}}},computed:v({},Object(h["b"])({isLogin:function(e){return e.isLogin}})),methods:{emptyErrText:function(){this.passErrorText="",this.userxErrorText=""},login:function(){this.isLogin&&this.routerReplace("/"),this.debounce(this.loginFn,500)},resetForm:function(){this.userForm={username:"",password:""}},loginFn:function(){var e=this,r=this.checkForm();if(r){this.emptyErrText();var t={username:this.userForm.username.trim(),password:this.userForm.password.trim()};c["a"].loading({mask:!0,message:"请求中...",duration:0}),this.$store.dispatch("login",t).then((function(r){r.data&&!r.data.error?(c["a"].clear(),Object(s["a"])({message:"登录成功",duration:2e3,background:"#1989fa"}),e.resetForm(),e.routerReplace("/")):(c["a"].clear(),Object(s["a"])({message:"用户名或密码错误",duration:2e3,background:"#ff4444"}))})).catch((function(e){c["a"].clear(),console.log(e),Object(s["a"])({message:"登陆失败,请重试!",duration:2e3,background:"#ff4444"})}))}},routerReplace:function(e){this.$router.replace(e)},checkupForm:function(e){var r=this,t=this.userForm[e];switch(e){case"username":this.checkName(t).then((function(e){r.errorMsg.username=e}));break;case"password":this.checkPass(t).then((function(e){r.errorMsg.password=e}));break;default:break}},checkForm:function(){var e=u,r=f;return!(!r.test(this.userForm.password)||!e.test(this.userForm.username))||(r.test(this.userForm.password)||(this.errorMsg.password="密码错误"),e.test(this.userForm.username)||(this.errorMsg.username="用户名输入不对"),!1)},debounce:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),r)}}},b=m,x=(t("0cc4"),t("2877")),w=Object(x["a"])(b,n,o,!1,null,"4df20de5",null);r["default"]=w.exports},ac6a:function(e,r,t){for(var n=t("cadf"),o=t("0d58"),a=t("2aba"),i=t("7726"),s=t("32e9"),c=t("84f2"),u=t("2b4c"),f=u("iterator"),l=u("toStringTag"),p=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(d),g=0;g<h.length;g++){var v,m=h[g],b=d[m],x=i[m],w=x&&x.prototype;if(w&&(w[f]||s(w,f,p),w[l]||s(w,l,m),c[m]=p,b))for(v in n)w[v]||a(w,v,n[v],!0)}},b0c5:function(e,r,t){"use strict";var n=t("520a");t("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},bd86:function(e,r,t){"use strict";t.d(r,"a",(function(){return a}));var n=t("85f2"),o=t.n(n);function a(e,r,t){return r in e?o()(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}},c42f:function(e,r,t){},f1ae:function(e,r,t){"use strict";var n=t("86cc"),o=t("4630");e.exports=function(e,r,t){r in e?n.f(e,r,o(0,t)):e[r]=t}}}]);