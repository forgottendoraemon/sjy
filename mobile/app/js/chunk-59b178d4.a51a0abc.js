(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59b178d4"],{2469:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info-page"},[n("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),n("van-swipe",{attrs:{autoplay:3e3,height:250}},t._l(t.images,(function(t,e){return n("van-swipe-item",{key:e},[n("van-image",{attrs:{width:"100%",height:"100%",fit:"cover",src:t}})],1)})),1),n("van-panel",{staticClass:"info-cont",attrs:{title:"介绍"}},[n("div",{staticClass:"info-text"},[t._v(t._s(t.info))])]),n("div",{staticClass:"info-actions"},[t.audioplaying?t._e():n("van-button",{attrs:{icon:"play-circle-o",type:"primary"},on:{click:t.playAudio}},[t._v("语音介绍")]),t.audioplaying?n("van-button",{attrs:{icon:"stop-circle-o",type:"primary"},on:{click:t.stopAduio}},[t._v("停止播放")]):t._e(),n("van-button",{attrs:{icon:"exchange",type:"info"},on:{click:t.startNav}},[t._v("导航到此")])],1)],1)},o=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),r=(n("7f7f"),n("28a5"),n("2f62")),s=n("9d00");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h=location.host?"".concat(location.protocol,"//").concat(location.host):location.href.split("/index.html#/")[0],l={data:function(){return{audioplaying:!1}},methods:{onClickLeft:function(){this.$router.back()},playAudio:function(){if(this.audio)this.audio.play();else{var t=document.createElement("audio");t.setAttribute("autoplay","autoplay"),t.setAttribute("src","".concat(h,"/static/audio/").concat(this.selectScenicSpot.ext.audio)),document.body.appendChild(t),this.audio=t}this.audioplaying=!0},stopAduio:function(){this.audio&&(this.audio.pause(),this.audioplaying=!1)},startNav:function(){var t=this.selectScenicSpot.feature.geometry,e=Object(s["a"])(t);this.$router.push("/"),this.$store.commit("setNavTargetLatlng",e),this.$store.commit("setNavTargetName",this.selectScenicSpot.feature.properties.name),this.$store.commit("setIsRouting",!0)}},components:{},computed:u({},Object(r["b"])({selectScenicSpot:function(t){return t.selectScenicSpot}}),{title:function(){return this.selectScenicSpot.feature.properties.name},images:function(){return this.selectScenicSpot.ext.photos.split(";").map((function(t){return"".concat(h,"/static/photo/").concat(t)}))},info:function(){return this.selectScenicSpot.ext.info}}),mounted:function(){},beforeRouteLeave:function(t,e,n){this.audio&&(this.audio.pause(),document.body.removeChild(this.audio),this.audio=null,this.audioplaying=!1),n()}},p=l,f=(n("5aa3"),n("2877")),d=Object(f["a"])(p,i,o,!1,null,"4e73fe36",null);e["default"]=d.exports},3048:function(t,e,n){},"5aa3":function(t,e,n){"use strict";var i=n("3048"),o=n.n(i);o.a},9984:function(t,e,n){"use strict";var i=n("fa35");function o(t,e,n){var o,s,u,h;e=e||1;for(var l=0;l<t[0].length;l++){var p=t[0][l];(!l||p[0]<o)&&(o=p[0]),(!l||p[1]<s)&&(s=p[1]),(!l||p[0]>u)&&(u=p[0]),(!l||p[1]>h)&&(h=p[1])}var f=u-o,d=h-s,v=Math.min(f,d),g=v/2,m=new i(null,a);if(0===v)return[o,s];for(var y=o;y<u;y+=v)for(var b=s;b<h;b+=v)m.push(new r(y+g,b+g,g,t));var w=c(t),x=new r(o+f/2,s+d/2,0,t);x.d>w.d&&(w=x);var O=m.length;while(m.length){var S=m.pop();S.d>w.d&&(w=S,n&&console.log("found best %d after %d probes",Math.round(1e4*S.d)/1e4,O)),S.max-w.d<=e||(g=S.h/2,m.push(new r(S.x-g,S.y-g,g,t)),m.push(new r(S.x+g,S.y-g,g,t)),m.push(new r(S.x-g,S.y+g,g,t)),m.push(new r(S.x+g,S.y+g,g,t)),O+=4)}return n&&(console.log("num probes: "+O),console.log("best distance: "+w.d)),[w.x,w.y]}function a(t,e){return e.max-t.max}function r(t,e,n,i){this.x=t,this.y=e,this.h=n,this.d=s(t,e,i),this.max=this.d+this.h*Math.SQRT2}function s(t,e,n){for(var i=!1,o=1/0,a=0;a<n.length;a++)for(var r=n[a],s=0,c=r.length,h=c-1;s<c;h=s++){var l=r[s],p=r[h];l[1]>e!==p[1]>e&&t<(p[0]-l[0])*(e-l[1])/(p[1]-l[1])+l[0]&&(i=!i),o=Math.min(o,u(t,e,l,p))}return(i?1:-1)*Math.sqrt(o)}function c(t){for(var e=0,n=0,i=0,o=t[0],a=0,s=o.length,c=s-1;a<s;c=a++){var u=o[a],h=o[c],l=u[0]*h[1]-h[0]*u[1];n+=(u[0]+h[0])*l,i+=(u[1]+h[1])*l,e+=3*l}return 0===e?new r(o[0][0],o[0][1],0,t):new r(n/e,i/e,0,t)}function u(t,e,n,i){var o=n[0],a=n[1],r=i[0]-o,s=i[1]-a;if(0!==r||0!==s){var c=((t-o)*r+(e-a)*s)/(r*r+s*s);c>1?(o=i[0],a=i[1]):c>0&&(o+=r*c,a+=s*c)}return r=t-o,s=e-a,r*r+s*s}t.exports=o,t.exports.default=o},"9d00":function(t,e,n){"use strict";var i=n("9984"),o=n.n(i);e["a"]=function(t){var e;return e="Point"==t.type?t.coordinates:o()(t.coordinates,1e-5),e}},fa35:function(t,e,n){"use strict";function i(t,e){if(!(this instanceof i))return new i(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||o,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function o(t,e){return t<e?-1:t>e?1:0}t.exports=i,t.exports.default=i,i.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){var e=this.data,n=this.compare,i=e[t];while(t>0){var o=t-1>>1,a=e[o];if(n(i,a)>=0)break;e[t]=a,t=o}e[t]=i},_down:function(t){var e=this.data,n=this.compare,i=this.length>>1,o=e[t];while(t<i){var a=1+(t<<1),r=a+1,s=e[a];if(r<this.length&&n(e[r],s)<0&&(a=r,s=e[r]),n(s,o)>=0)break;e[t]=s,t=a}e[t]=o}}}}]);