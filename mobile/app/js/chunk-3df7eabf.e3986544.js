(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3df7eabf"],{"0064":function(t,e,n){"use strict";n("7f7f");var r=n("768b"),o=(n("ac6a"),n("c5f6"),n("9d00")),i=n("c0d6"),a={Point:{type:"circle",paint:{"circle-color":"#d44949","circle-stroke-color":"#000","circle-stroke-opacity":1,"circle-blur":0}},LineString:{type:"line",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"hsl(0, 91%, 53%)","line-width":3}},Polygon:{type:"line",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"hsl(0, 68%, 64%)","line-width":3}}},c="search-result",s={Point:function(t,e){return e.flyTo({center:t.coordinates,zoom:12}),t.coordinates},LineString:function(t,e){var n=Number.MAX_VALUE,o=Number.MAX_VALUE,i=Number.MIN_VALUE,a=Number.MIN_VALUE;t.coordinates.forEach((function(t){var e=Object(r["a"])(t,2),c=e[0],s=e[1];n=n<c?n:c,o=o<s?o:s,i=i>c?i:c,a=a>s?a:s})),e.fitBounds([[n,o],[i,a]]);var c=Math.floor(t.coordinates.length/2);return t.coordinates[c]},Polygon:function(t,e){var n=Number.MAX_VALUE,o=Number.MAX_VALUE,i=Number.MIN_VALUE,a=Number.MIN_VALUE;return t.coordinates.forEach((function(t){return t.forEach((function(t){var e=Object(r["a"])(t,2),c=e[0],s=e[1];n=n<c?n:c,o=o<s?o:s,i=i>c?i:c,a=a>s?a:s}))})),e.fitBounds([[n,o],[i,a]]),[(n+i)/2,(o+a)/2]}},u=null;e["a"]=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:t.geometry,properties:{name:t.properties.name}}]}},r=function(){$map.getLayer(c)&&($map.removeLayer(c),$map.removeSource(c)),u&&u.remove()};r();var l={id:c,source:n},f=a[t.geometry.type];Object.assign(l,f),$map.addLayer(l);var h=s[t.geometry.type](t.geometry,$map);if(u=new mapboxgl.Popup({closeOnClick:!1}).setLngLat(h).setHTML(t.properties.name).addTo($map),u.once("close",r),e){var p=t.geometry,d=Object(o["a"])(p);i["a"].commit("setNavTargetLatlng",d),i["a"].commit("setNavTargetName",t.properties.name)}}},"2d50":function(t,e,n){"use strict";var r=n("e94c"),o=n.n(r);o.a},4055:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info-page"},[n("van-nav-bar",{attrs:{title:t.listViewLayerItem.name,"left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),n("div",{staticClass:"content"},[t._l(t.features,(function(e,r){return[n("div",{key:r,staticClass:"item"},[n("van-cell",{attrs:{title:e.properties.name},on:{click:function(n){return t.showFeature(e)}}},[n("van-icon",{staticStyle:{"line-height":"inherit"},attrs:{slot:"right-icon",name:"location-o"},slot:"right-icon"})],1)],1)]}))],2)],1)},o=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("7f7f"),n("bd86")),a=n("2f62"),c=n("dbf0"),s=n("0064");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={methods:{onClickLeft:function(){this.$router.back()},showFeature:function(t){this.$router.push("/"),Object(s["a"])(t)}},components:{},computed:l({},Object(a["b"])({listViewLayerItem:function(t){return t.listViewLayerItem}}),{features:function(){var t=c["a"][this.listViewLayerItem.source].features;return t.filter((function(t){return t.properties.name&&t.properties.name.trim()}))}}),mounted:function(){}},h=f,p=(n("2d50"),n("2877")),d=Object(p["a"])(h,r,o,!1,null,"9bb08560",null);e["default"]=d.exports},9984:function(t,e,n){"use strict";var r=n("fa35");function o(t,e,n){var o,c,u,l;e=e||1;for(var f=0;f<t[0].length;f++){var h=t[0][f];(!f||h[0]<o)&&(o=h[0]),(!f||h[1]<c)&&(c=h[1]),(!f||h[0]>u)&&(u=h[0]),(!f||h[1]>l)&&(l=h[1])}var p=u-o,d=l-c,m=Math.min(p,d),v=m/2,g=new r(null,i);if(0===m)return[o,c];for(var y=o;y<u;y+=m)for(var b=c;b<l;b+=m)g.push(new a(y+v,b+v,v,t));var w=s(t),O=new a(o+p/2,c+d/2,0,t);O.d>w.d&&(w=O);var L=g.length;while(g.length){var j=g.pop();j.d>w.d&&(w=j,n&&console.log("found best %d after %d probes",Math.round(1e4*j.d)/1e4,L)),j.max-w.d<=e||(v=j.h/2,g.push(new a(j.x-v,j.y-v,v,t)),g.push(new a(j.x+v,j.y-v,v,t)),g.push(new a(j.x-v,j.y+v,v,t)),g.push(new a(j.x+v,j.y+v,v,t)),L+=4)}return n&&(console.log("num probes: "+L),console.log("best distance: "+w.d)),[w.x,w.y]}function i(t,e){return e.max-t.max}function a(t,e,n,r){this.x=t,this.y=e,this.h=n,this.d=c(t,e,r),this.max=this.d+this.h*Math.SQRT2}function c(t,e,n){for(var r=!1,o=1/0,i=0;i<n.length;i++)for(var a=n[i],c=0,s=a.length,l=s-1;c<s;l=c++){var f=a[c],h=a[l];f[1]>e!==h[1]>e&&t<(h[0]-f[0])*(e-f[1])/(h[1]-f[1])+f[0]&&(r=!r),o=Math.min(o,u(t,e,f,h))}return(r?1:-1)*Math.sqrt(o)}function s(t){for(var e=0,n=0,r=0,o=t[0],i=0,c=o.length,s=c-1;i<c;s=i++){var u=o[i],l=o[s],f=u[0]*l[1]-l[0]*u[1];n+=(u[0]+l[0])*f,r+=(u[1]+l[1])*f,e+=3*f}return 0===e?new a(o[0][0],o[0][1],0,t):new a(n/e,r/e,0,t)}function u(t,e,n,r){var o=n[0],i=n[1],a=r[0]-o,c=r[1]-i;if(0!==a||0!==c){var s=((t-o)*a+(e-i)*c)/(a*a+c*c);s>1?(o=r[0],i=r[1]):s>0&&(o+=a*s,i+=c*s)}return a=t-o,c=e-i,a*a+c*c}t.exports=o,t.exports.default=o},"9d00":function(t,e,n){"use strict";var r=n("9984"),o=n.n(r);e["a"]=function(t){var e;return e="Point"==t.type?t.coordinates:o()(t.coordinates,1e-5),e}},e94c:function(t,e,n){},fa35:function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||o,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function o(t,e){return t<e?-1:t>e?1:0}t.exports=r,t.exports.default=r,r.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){var e=this.data,n=this.compare,r=e[t];while(t>0){var o=t-1>>1,i=e[o];if(n(r,i)>=0)break;e[t]=i,t=o}e[t]=r},_down:function(t){var e=this.data,n=this.compare,r=this.length>>1,o=e[t];while(t<r){var i=1+(t<<1),a=i+1,c=e[i];if(a<this.length&&n(e[a],c)<0&&(i=a,c=e[a]),n(c,o)>=0)break;e[t]=c,t=i}e[t]=o}}}}]);